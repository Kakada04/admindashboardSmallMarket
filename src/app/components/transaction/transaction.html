<div class="w-full h-full flex flex-col space-y-5 justify-items-center dark:bg-gray-800 bg-gray-100 p-10 max-sm:p-2">
  <div class="w-full h-32 flex flex-row max-sm:space-x-0 space-x-[60%] p-4">
    <div class="w-full h-[64px]">
      <span class="text-4xl font-semibold text-gray-700 dark:text-gray-200">Transaction
        <br>
        <span class="text-gray-600 dark:text-gray-200 text-sm font-semibold">Welcome to your transaction</span>
      </span>
    </div>


  </div>
  <div class="w-full h-auto lg:p-4 p-1 mt-3  ">
    <div class="w-full  p-2  bg-white dark:bg-gray-900 rounded-lg shadow-md">




      <div class="relative overflow-x-auto shadow-md sm:rounded-lg space-y-5">
        <div
          class="flex  md:flex-row max-sm:flex-col md:items-center max-sm:space-y-4 md:justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-t-lg">
          <div class="w-full text-center">
            <label class="text-2xl max-sm:text-md font-semibold text-gray-900 dark:text-white">Transaction List</label>
          </div>
          <div class="w-full">
            <input type="text" id="search" [(ngModel)]="searchvalue" (keyup)="searchQuery(searchvalue)"
              class="block w-full p-2.5 text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
              placeholder="Search by user name...">
          </div>
          <div class="w-auto p-2 ml-2 border border-gray-300 rounded-lg dark:border-gray-600">
            <!-- <select [(ngModel)]="selectedPeriod" class="text-white dark:text-white text-lg max-sm:text-md font-semibold bg-gray-700">
              <option value="all">All</option>
              <option value="today">Today</option>
              <option value="last_7_day">last 7 Day</option>
              <option>This Month</option>
               @for(transaction of transactions ; track transaction.id){
                
              } 
            </select> -->
            <select id="period" [(ngModel)]="selectedPeriod" (ngModelChange)="onPeriodChange()"
              class="text-white dark:text-white text-lg max-sm:text-md font-semibold bg-gray-700">
              <option *ngFor="let period of periods" [value]="period">{{ period | titlecase }}</option>
            </select>
          </div>
        </div>
        <table class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400">
          <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
            <tr>
              <th scope="col" class="px-6 py-3">Name</th>
              <th scope="col" class="px-6 py-3">Date</th>
              <th scope="col" class="px-6 py-3">Amount</th>
              <th scope="col" class="px-6 py-3">Total Product</th>
              <th scope="col" class="px-6 py-3">Actions</th>
            </tr>
          </thead>
          <tbody>
          

            @if(transactions.length >0){
            @for(transaction of transactions ; track transaction.id){
              
            <tr
              class="odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700 border-gray-200">
              <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                {{transaction.user.first_name}} {{transaction.user.last_name}}
                <img class="inline-block w-12 h-auto ml-2 rounded-full"
                  src="https://flowbite.com/docs/images/people/profile-picture-5.jpg" alt="User Image">
              </th>
              <td class="px-6 py-4">
                {{transaction.created_at | date:"dd-MM-yyy"}}
              </td>
              <td class="px-6 py-4 text-green-500">
                {{transaction.total_price |currency}}
              </td>
              <td class="px-6 py-4 text-white">
                {{transaction.total_product || 'N/A'}} 
                
              </td>
              <td class="px-6 py-4">
                <button class="text-green-600 hover:text-blue-900 dark:text-blue-500 dark:hover:text-blue-700">
                  View
                </button>

              </td>
            </tr>
            }

            }@else {
            <tr>
              <td colspan="5" class="px-6 py-4 text-center text-gray-500 dark:text-gray-400">
                No transactions found.
              </td>
            </tr>
            }


          </tbody>
        </table>
      </div>
    </div>
  </div>